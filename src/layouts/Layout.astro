---
import '../css/base.css'

interface Props {
  title: string
}

const menuOptions = [
  { name: 'Inicio', url: '#', visible: true },
  { name: 'Proyectos', url: '#proyectos', visible: true },
  { name: 'Blog', url: '#blog', visible: false },
  { name: 'Contacto', url: '#contacto', visible: true },
]

const { title } = Astro.props
---

<!doctype html>
<html lang="es" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="description"
      content="Guamán con G - Asesorías Informáticas, Desarrollo web, Desarrollo webapps, ReactJs, NextJS, Wordpress, PHP, HTML5, CSS, Javascript"
    />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <script type="module">
      const darkMode = localStorage.getItem('dark-mode') ?? false
      if (darkMode === 'true') {
        document.querySelector('html').classList.add('dark')
      }
    </script>
  </head>

  <body class="bg-cornflower-50 dark:bg-cornflower-950">
    <header
      id="header"
      class="sticky top-0 z-50 mb-8 h-24 bg-cornflower-50 pb-1 text-cornflower-950 shadow-lg shadow-cornflower-200 transition-all duration-500 dark:bg-cornflower-950 dark:text-cornflower-200">
      <div class="wrapper flex h-full items-center justify-between max-md:pr-4">
        <a href="/" class="h-full">
          <img
            class="h-full w-full object-contain"
            src="/logo-guamancong.png"
            alt="Logo Empresa Guamán con G color Cyan"
          />
        </a>
        <div class="flex items-center">
          <label for="menu-responsive" class="relative z-40 cursor-pointer px-3 py-6">
            <input type="checkbox" name="menu-responsive" id="menu-responsive" class="peer hidden" />
            <div
              class="relative z-50 h-[2px] w-6 bg-black content-[''] before:absolute before:top-[-0.35rem] before:z-50 before:block before:h-full before:w-full before:bg-black before:transition-all before:duration-200 before:ease-out before:content-[''] after:absolute after:bottom-[-0.35rem] after:right-0 after:block after:h-full after:w-full after:bg-black after:transition-all after:duration-200 after:ease-out after:content-[''] peer-checked:bg-transparent before:peer-checked:top-0 before:peer-checked:w-full before:peer-checked:rotate-45 before:peer-checked:transform before:peer-checked:bg-white after:peer-checked:bottom-0 after:peer-checked:w-full after:peer-checked:-rotate-45 after:peer-checked:transform after:peer-checked:bg-white md:hidden dark:bg-white dark:before:bg-white dark:after:bg-white">
            </div>
            <div class="fixed inset-0 z-40 hidden h-full w-full bg-black/70 backdrop-blur-sm peer-checked:block">
              &nbsp;
            </div>
            <nav
              class="fixed right-0 top-0 z-40 h-full w-full translate-x-full flex-col space-y-6 overflow-y-auto overscroll-y-none px-20 py-24 text-cornflower-100 transition duration-500 peer-checked:flex peer-checked:translate-x-0 md:static md:flex md:h-12 md:w-auto md:translate-x-0 md:flex-row md:items-center md:justify-between md:gap-6 md:space-y-0 md:divide-y-0 md:bg-inherit md:px-11 md:py-2 md:text-inherit">
              {
                menuOptions.map(
                  (option) =>
                    option.visible && (
                      <a
                        href={option.url}
                        class="rounded border-cornflower-400 px-10 py-4 text-4xl font-bold hover:bg-cornflower-400 hover:text-cornflower-100 active:bg-cornflower-400 md:px-4 md:py-0 md:text-xl">
                        {option.name}
                      </a>
                    )
                )
              }
            </nav>
          </label>
          <button id="toggle-dark-light" class="size-6 hover:scale-95 hover:text-cornflower-500">
            <svg
              class="dark:hidden"
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"
              ></path>
            </svg>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="hidden dark:block">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"
              ></path>
            </svg>
          </button>
        </div>
      </div>
    </header>
    <slot />
    <footer class="border-t-2 border-cornflower-400 dark:border-cornflower-200">
      <div
        class="wrapper my-8 flex flex-col-reverse items-center justify-between gap-y-4 text-cornflower-800 md:flex-row dark:text-cornflower-200">
        <p class="text-sm drop-shadow">Desarrollado por Guamán con G - 2024</p>
        <div class="flex items-center gap-8">
          <a
            href="https://www.linkedin.com/in/sergio-guaman-0291891b/"
            target="_blank"
            class="w-12 hover:scale-110 hover:text-cornflower-600 dark:hover:text-cornflower-300"
            ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
              ><path
                fill="currentColor"
                d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93zM6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37z"
              ></path></svg
            >
          </a>
          <a
            href="https://github.com/warlock-g"
            target="_blank"
            class="w-12 hover:scale-110 hover:text-cornflower-600 dark:hover:text-cornflower-300"
            ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
              ><path
                fill="currentColor"
                d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"
              ></path></svg
            >
          </a>
          <a
            href="https://x.com"
            target="_blank"
            class="w-10 hover:scale-110 hover:text-cornflower-600 dark:hover:text-cornflower-300"
            ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"
              ><path
                fill="currentColor"
                d="M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h320c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64zm297.1 84L257.3 234.6L379.4 396h-95.6L209 298.1L123.3 396H75.8l111-126.9L69.7 116h98l67.7 89.5l78.2-89.5zm-37.8 251.6L153.4 142.9h-28.3l171.8 224.7h26.3z"
              ></path></svg
            >
          </a>
        </div>
      </div>
    </footer>

    <script is:inline type="module">
      window.addEventListener('scroll', () => {
        const header = document.querySelector('#header')
        if (window.scrollY > 70) {
          header.classList.replace('h-24', 'h-14')
        } else {
          header.classList.replace('h-14', 'h-24')
        }
      })

      document.getElementById('toggle-dark-light').addEventListener('click', () => {
        const html = document.querySelector('html')
        localStorage.setItem('dark-mode', html.classList.toggle('dark'))
      })
    </script>
  </body>
</html>
